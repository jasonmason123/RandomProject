import{r as c,E as g,F as N,G as y,J as w,j as e,L as m,K as h,R as C,B as u}from"./index-B9nS6S8q.js";import{a as S}from"./authentication-api-caller-TsD-gHrN.js";import{u as k}from"./useTranslation-DvKfDV_k.js";import{I as n}from"./InputGroup-OJcgSMOE.js";const L=()=>{const[i]=k(),[a,t]=c.useState(!1),[x,j]=c.useState(!1),o=async r=>{try{t(!0),(await S.forgotPasswordRequest(r)).ok?j(!0):u.error("We couldn't find an account with that email address.")}catch{u.error("An error occurred. Please try again later.")}finally{t(!1)}},{handleChange:p,values:d,handleSubmit:b,touched:l,errors:s,submitForm:v}=g({initialValues:{email:""},validationSchema:N({email:y().email("Invalid email address").required("Required")}),onSubmit:r=>{o(r.email)}});return w("hold-transition login-page"),e.jsx("div",{className:"login-box",children:e.jsxs("div",{className:"card card-outline card-primary",children:[e.jsx("div",{className:"card-header text-center",children:e.jsx(m,{to:"/",className:"h1",children:e.jsx("b",{children:"CodLUCK"})})}),x?e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"alert alert-success flex flex-col space-y-2",children:[e.jsx("span",{children:"We have sent an instruction to reset your password. Please check your email."}),e.jsxs("span",{children:["Didnâ€™t receive it?"," ",e.jsx("button",{type:"button",onClick:()=>o(d.email),className:"text-blue-600 underline hover:text-blue-800",children:"Resend"})]})]})}):e.jsxs("div",{className:"card-body",children:[e.jsx("p",{className:"login-box-msg",children:i("recover.forgotYourPassword")}),e.jsxs("form",{onSubmit:b,children:[e.jsx("div",{className:"mb-3",children:e.jsxs(n,{className:"mb-3",children:[e.jsx(h.Control,{id:"email",name:"email",type:"email",placeholder:"Email",onChange:p,value:d.email,disabled:a,isValid:l.email&&!s.email,isInvalid:l.email&&!!s.email}),l.email&&s.email?e.jsx(h.Control.Feedback,{type:"invalid",children:s.email}):e.jsx(n.Append,{children:e.jsx(n.Text,{children:e.jsx("i",{className:"fas fa-envelope"})})})]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(C,{disabled:a,loading:a,onClick:v,children:i("recover.requestNewPassword")})})})]}),e.jsx("p",{className:"mt-3 mb-1",children:e.jsx(m,{"aria-disabled":a,to:"/login",children:i("login.button.signIn.label")})})]})]})})};export{L as default};
